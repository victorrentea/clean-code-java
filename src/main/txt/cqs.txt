#Temporal Coupling = when order of lines matters for non-obvious reasons
#You get this with MUTABLE objects
#Command-Query Separation (CQS) violation: TERRIBLE NAME: get- changing state.


if (user.lastLogin - now() > 1 year) throw new Exception("User Frozen");

var price = applyPromotions(cart, promotions, ...)
log.debug(cart)

log.debug("Last seen user: " + getLastLogin(user));


String getLastLogin(user) {
    execute(user);
    // DB INSERT
    // Kafka Send
    return user.lastLogin.asStr..
}

execute(user) {
    user.lastLogin = now();
}
